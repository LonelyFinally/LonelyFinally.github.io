<!DOCTYPE html>
<html lang="zh">

	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	
	
	<title>
       把pjax添加进hexo博客geek主题里面   玄八的记录挡案中心
		 
    </title>
    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">



    <!-- 看板娘 -->
	<div class="site-content-contain">
		<div id="content" class="site-content">
		    
		        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/LonelyFinally/sjiaw@1.0/waifu.css"/>
    <script src="https://cdn.jsdelivr.net/gh/LonelyFinally/sjiaw@1.0/jquery.min.js"></script>
<!-- 看板娘 -->


<meta name="generator" content="Hexo 5.3.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body id="bodyx">
<!-- 玄八添加的pjax -->
	<div class ="main" id="pjax-container"> 
<!-- 玄八添加的pjax! -->
    <div class="hd posts">

	<a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            把pjax添加进hexo博客geek主题里面
        </p>
        <hr>
    </div>
    <div class="post-content">
        <h1>前言:</h1>
最近才发现博客打开有点慢可能是js反复加载的原因，我尝试把pjax初步的添加进了geek主题
跟引用的有一部分小问题和目录位置不一样。耐心看完.
<h1>用到的工具:</h1>
<li>Notepad++</li>
<h1>正题:</h1>
<h4>第一步：添加pjax的ID</h4>
geek主题位置:themes\geek\layout
如下图所示  在 body id="bodyx"  <br>
下面把你要 pjax的地方 后面结尾用 /div   <br>
我这缓存了两个文件  一个文章一个底部(注：geek博客在footer文件加载了大量的js)<br>
代码:

<pre><code>&lt;div class =&quot;main&quot; id=&quot;pjax-container&quot;&gt; 
&lt;/div&gt;
</code></pre>
<p><img src="/2021/04/11/%E6%8A%8Apjax%E6%B7%BB%E5%8A%A0%E8%BF%9Bhexo%E5%8D%9A%E5%AE%A2geek%E4%B8%BB%E9%A2%98%E9%87%8C%E9%9D%A2/1.png" alt="(2021年4月11日18:27:51)"></p>
<h4>第二步：把pjax文件导入博客js存放处</h4>
把jquery.pjax.min.js 放到 themes\geek\source\js处 （注：文件在下载地址往下拉在最下面）

<p><img src="/2021/04/11/%E6%8A%8Apjax%E6%B7%BB%E5%8A%A0%E8%BF%9Bhexo%E5%8D%9A%E5%AE%A2geek%E4%B8%BB%E9%A2%98%E9%87%8C%E9%9D%A2/2.png" alt="(2021年4月11日18:27:51)"><br>然后自己随意命名新建个js存放刷新代码 我这里用了 xuanba.pjax.js<br><img src="/2021/04/11/%E6%8A%8Apjax%E6%B7%BB%E5%8A%A0%E8%BF%9Bhexo%E5%8D%9A%E5%AE%A2geek%E4%B8%BB%E9%A2%98%E9%87%8C%E9%9D%A2/4.png" alt="(2021年4月11日18:27:51)"><br>文件内容代码</p>
<pre><code>$(document).pjax(‘a’，&#39;#pjax-container&#39;,&#123;
        fragment: &#39;#pjax-container&#39;,
        timeout: 5000,
        cache: false
&#125;);        
</code></pre>
<h4>第三步：在footer处引用pjax</h4>
在<%- js('js js.js') %> 下面添加我们刚整理的js文件<br>
代码: 第一条是需要jquery的支持 hexo geek里面好像自带了 我是一股脑添加了

<pre><code>&lt;!-- 玄八添加的pjax --&gt;
&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/jquery.pjax/2.0.1/jquery.pjax.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/jquery.pjax.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/xuanba.pjax.js&quot;&gt;&lt;/script&gt;
&lt;!-- 玄八添加的pjax！ --&gt;
</code></pre>
<p><img src="/2021/04/11/%E6%8A%8Apjax%E6%B7%BB%E5%8A%A0%E8%BF%9Bhexo%E5%8D%9A%E5%AE%A2geek%E4%B8%BB%E9%A2%98%E9%87%8C%E9%9D%A2/3.png" alt="(2021年4月11日18:27:51)"></p>
<h1>搞定收工：至于为什么要添加个自定义js 我试过把xuanba.pjax.js内容添加到js.js会导致评论系统出不来。事情就是这么个事情。</h1>  
<h1>下载地址:<a target="_blank" rel="noopener" href="https://www.bootcdn.cn/jquery.pjax/">pjax</a> </h1>

<h1>引用:</h1>
<a target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1619112907043974341&wfr=spider&for=pc">Hexo给materialX主题添加pjax支持</a>

</%->
    </div>


      <!-- 要添加的内容 -->
      
	  <hr class="fhr">
	  <b>本文作者： 只是本人的随意记录</b>
<br><b>本文链接： </b>  <script> document.write(window.location.href);  </script>
<br><b> 版权声明： </b> 本博客所有文章除特别声明外，均采用  <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0 </a> 许可协议。转载请注明出处！

      
      <!---->




    
        <hr class="fhr">
        <div id="vcomments"></div>
    
	

	
</div>





<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LonelyFinally/cdn/xuanbazhuanyongya.css">
<!-- 玄八添加的看板娘 -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/LonelyFinally/cdn/live2d0/waifu.css"/>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<!--此也是看板娘的一部分不过 ui会强行改变 待改进 
 <div>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/LonelyFinally/sjiaw@1.0/flat-ui.min.css"/>
    </div>
    <!--此也是看板娘的一部分不过 ui会强行改变 待改进 -->
    <div class="waifu" id="waifu">
        <div class="waifu-tips" style="opacity: 1;"></div>
        <canvas id="live2d" width="280" height="250" class="live2d"></canvas>
        <div class="waifu-tool">
            <span class="fui-home"></span>
            <span class="fui-chat"></span>
            <span class="fui-eye"></span>
            <span class="fui-user"></span>
            <span class="fui-photo"></span>
            <span class="fui-info-circle"></span>
            <span class="fui-cross"></span>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/gh/LonelyFinally/cdn/live2d0/live2d.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/LonelyFinally/cdn/live2d0/waifu-tips.js"></script>

   
    <script type="text/javascript">initModel()</script>
    
    <!-- 玄八添加的看板娘！ -->



<div class="footer" id="footer">
    <p>Copyright © 2021 <a class="flink" target="_blank" rel="noopener" href="https://blog.dajlc.com">玄八的记录挡案中心</a>· 休息区 <a class="flink" target="_blank" rel="noopener" href="https://www.sjiaw.com/jing.html">点击</a>.
 <br>
        Made with <i class="fa fa-heart throb"
           style="color:#d43f57"></i> by <span class="author"
              itemprop="copyrightHolder">blog.dajlc.com</span>.

        <label class="el-switch el-switch-green el-switch-sm" style="vertical-align: sub;">
            <input type="checkbox" name="switch" id="update_style">
            <span class="el-switch-style"></span>
        </label>
<!--         <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1278548644'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/stat.php%3Fid%3D1278548644%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
        </script> -->
    </p>
</div>
<input type="hidden" id="web_style" value="black">
<input type="hidden" id="valine_appid" value="9dSruQsoNevycwyURjKpLFUI-MdYXbMMI">
<input type="hidden" id="valine_appKey" value="I4kdevJIl8lAr4ngCCyG2Lmh">

<script src="/libs/jquery.min.js"></script>


<script src="/libs/highlight/highlight.pack.js"></script>

<script src='//cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>

<script src="/js/js.js"></script>



<!-- 玄八添加的pjax -->
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.pjax/2.0.1/jquery.pjax.js"></script>
<script src="js/jquery.pjax.min.js"></script>
<script src="js/xuanba.pjax.js"></script>
<!-- 玄八添加的pjax！ -->


<style type="text/css">
.v * {
    color: #698fca;
}

.v .vlist .vcard .vhead .vsys {
    color: #3a3e4a;
}

.v .vlist .vcard .vh .vmeta .vat {
    color: #638fd5;
}

.v .vlist .vcard .vhead .vnick {
    color: #6ba1ff;
}

.v a {
    color: #8696b1;
}

.v .vlist .vcard .vhead .vnick:hover {
    color: #669bfc;
}
</style>
	</div>
</body>

<head>
    <!-- 玄八添加的看板娘 -->
	<div class="site-content-contain">
		<div id="content" class="site-content">
		    
		        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/LonelyFinally/sjiaw@1.0/waifu.css"/>
    <script src="https://cdn.jsdelivr.net/gh/LonelyFinally/sjiaw@1.0/jquery.min.js"></script>
<!-- 玄八添加的看板娘! -->

</head>

</html>